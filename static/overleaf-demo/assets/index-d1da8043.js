(function(){const _=document.createElement("link").relList;if(_&&_.supports&&_.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();var I,a,ae,S,Y,pe,B,P={},de=[],we=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,G=Array.isArray;function E(e,_){for(var t in _)e[t]=_[t];return e}function he(e){var _=e.parentNode;_&&_.removeChild(e)}function Ee(e,_,t){var n,r,o,s={};for(o in _)o=="key"?n=_[o]:o=="ref"?r=_[o]:s[o]=_[o];if(arguments.length>2&&(s.children=arguments.length>3?I.call(arguments,2):t),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)s[o]===void 0&&(s[o]=e.defaultProps[o]);return A(e,s,n,r,null)}function A(e,_,t,n,r){var o={type:e,props:_,key:t,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++ae,__i:-1,__u:0};return r==null&&a.vnode!=null&&a.vnode(o),o}function D(e){return e.children}function F(e,_){this.props=e,this.context=_}function $(e,_){if(_==null)return e.__?$(e.__,e.__i+1):null;for(var t;_<e.__k.length;_++)if((t=e.__k[_])!=null&&t.__e!=null)return t.__e;return typeof e.type=="function"?$(e):null}function ve(e){var _,t;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,_=0;_<e.__k.length;_++)if((t=e.__k[_])!=null&&t.__e!=null){e.__e=e.__c.base=t.__e;break}return ve(e)}}function Z(e){(!e.__d&&(e.__d=!0)&&S.push(e)&&!W.__r++||Y!==a.debounceRendering)&&((Y=a.debounceRendering)||pe)(W)}function W(){var e,_,t,n,r,o,s,l,u;for(S.sort(B);e=S.shift();)e.__d&&(_=S.length,n=void 0,o=(r=(t=e).__v).__e,l=[],u=[],(s=t.__P)&&((n=E({},r)).__v=r.__v+1,a.vnode&&a.vnode(n),K(s,n,r,t.__n,s.ownerSVGElement!==void 0,32&r.__u?[o]:null,l,o??$(r),!!(32&r.__u),u),n.__.__k[n.__i]=n,ge(l,n,u),n.__e!=o&&ve(n)),S.length>_&&S.sort(B));W.__r=0}function me(e,_,t,n,r,o,s,l,u,c,p){var i,d,f,m,x,y=n&&n.__k||de,h=_.length;for(t.__d=u,Se(t,_,y),u=t.__d,i=0;i<h;i++)(f=t.__k[i])!=null&&typeof f!="boolean"&&typeof f!="function"&&(d=f.__i===-1?P:y[f.__i]||P,f.__i=i,K(e,f,d,r,o,s,l,u,c,p),m=f.__e,f.ref&&d.ref!=f.ref&&(d.ref&&J(d.ref,null,f),p.push(f.ref,f.__c||m,f)),x==null&&m!=null&&(x=m),65536&f.__u||d.__k===f.__k?u=ye(f,u,e):typeof f.type=="function"&&f.__d!==void 0?u=f.__d:m&&(u=m.nextSibling),f.__d=void 0,f.__u&=-196609);t.__d=u,t.__e=x}function Se(e,_,t){var n,r,o,s,l,u=_.length,c=t.length,p=c,i=0;for(e.__k=[],n=0;n<u;n++)(r=e.__k[n]=(r=_[n])==null||typeof r=="boolean"||typeof r=="function"?null:typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?A(null,r,null,null,r):G(r)?A(D,{children:r},null,null,null):r.__b>0?A(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r)!=null?(r.__=e,r.__b=e.__b+1,l=$e(r,t,s=n+i,p),r.__i=l,o=null,l!==-1&&(p--,(o=t[l])&&(o.__u|=131072)),o==null||o.__v===null?(l==-1&&i--,typeof r.type!="function"&&(r.__u|=65536)):l!==s&&(l===s+1?i++:l>s?p>u-s?i+=l-s:i--:i=l<s&&l==s-1?l-s:0,l!==n+i&&(r.__u|=65536))):(o=t[n])&&o.key==null&&o.__e&&(o.__e==e.__d&&(e.__d=$(o)),j(o,o,!1),t[n]=null,p--);if(p)for(n=0;n<c;n++)(o=t[n])!=null&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=$(o)),j(o,o))}function ye(e,_,t){var n,r;if(typeof e.type=="function"){for(n=e.__k,r=0;n&&r<n.length;r++)n[r]&&(n[r].__=e,_=ye(n[r],_,t));return _}return e.__e!=_&&(t.insertBefore(e.__e,_||null),_=e.__e),_&&_.nextSibling}function $e(e,_,t,n){var r=e.key,o=e.type,s=t-1,l=t+1,u=_[t];if(u===null||u&&r==u.key&&o===u.type)return t;if(n>(u!=null&&!(131072&u.__u)?1:0))for(;s>=0||l<_.length;){if(s>=0){if((u=_[s])&&!(131072&u.__u)&&r==u.key&&o===u.type)return s;s--}if(l<_.length){if((u=_[l])&&!(131072&u.__u)&&r==u.key&&o===u.type)return l;l++}}return-1}function ee(e,_,t){_[0]==="-"?e.setProperty(_,t??""):e[_]=t==null?"":typeof t!="number"||we.test(_)?t:t+"px"}function U(e,_,t,n,r){var o;e:if(_==="style")if(typeof t=="string")e.style.cssText=t;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(_ in n)t&&_ in t||ee(e.style,_,"");if(t)for(_ in t)n&&t[_]===n[_]||ee(e.style,_,t[_])}else if(_[0]==="o"&&_[1]==="n")o=_!==(_=_.replace(/(PointerCapture)$|Capture$/,"$1")),_=_.toLowerCase()in e?_.toLowerCase().slice(2):_.slice(2),e.l||(e.l={}),e.l[_+o]=t,t?n?t.u=n.u:(t.u=Date.now(),e.addEventListener(_,o?te:_e,o)):e.removeEventListener(_,o?te:_e,o);else{if(r)_=_.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(_!=="width"&&_!=="height"&&_!=="href"&&_!=="list"&&_!=="form"&&_!=="tabIndex"&&_!=="download"&&_!=="rowSpan"&&_!=="colSpan"&&_!=="role"&&_ in e)try{e[_]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&_[4]!=="-"?e.removeAttribute(_):e.setAttribute(_,t))}}function _e(e){var _=this.l[e.type+!1];if(e.t){if(e.t<=_.u)return}else e.t=Date.now();return _(a.event?a.event(e):e)}function te(e){return this.l[e.type+!0](a.event?a.event(e):e)}function K(e,_,t,n,r,o,s,l,u,c){var p,i,d,f,m,x,y,h,g,w,N,H,X,T,R,k=_.type;if(_.constructor!==void 0)return null;128&t.__u&&(u=!!(32&t.__u),o=[l=_.__e=t.__e]),(p=a.__b)&&p(_);e:if(typeof k=="function")try{if(h=_.props,g=(p=k.contextType)&&n[p.__c],w=p?g?g.props.value:p.__:n,t.__c?y=(i=_.__c=t.__c).__=i.__E:("prototype"in k&&k.prototype.render?_.__c=i=new k(h,w):(_.__c=i=new F(h,w),i.constructor=k,i.render=Pe),g&&g.sub(i),i.props=h,i.state||(i.state={}),i.context=w,i.__n=n,d=i.__d=!0,i.__h=[],i._sb=[]),i.__s==null&&(i.__s=i.state),k.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=E({},i.__s)),E(i.__s,k.getDerivedStateFromProps(h,i.__s))),f=i.props,m=i.state,i.__v=_,d)k.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(k.getDerivedStateFromProps==null&&h!==f&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(h,w),!i.__e&&(i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(h,i.__s,w)===!1||_.__v===t.__v)){for(_.__v!==t.__v&&(i.props=h,i.state=i.__s,i.__d=!1),_.__e=t.__e,_.__k=t.__k,_.__k.forEach(function(L){L&&(L.__=_)}),N=0;N<i._sb.length;N++)i.__h.push(i._sb[N]);i._sb=[],i.__h.length&&s.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(h,i.__s,w),i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(f,m,x)})}if(i.context=w,i.props=h,i.__P=e,i.__e=!1,H=a.__r,X=0,"prototype"in k&&k.prototype.render){for(i.state=i.__s,i.__d=!1,H&&H(_),p=i.render(i.props,i.state,i.context),T=0;T<i._sb.length;T++)i.__h.push(i._sb[T]);i._sb=[]}else do i.__d=!1,H&&H(_),p=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++X<25);i.state=i.__s,i.getChildContext!=null&&(n=E(E({},n),i.getChildContext())),d||i.getSnapshotBeforeUpdate==null||(x=i.getSnapshotBeforeUpdate(f,m)),me(e,G(R=p!=null&&p.type===D&&p.key==null?p.props.children:p)?R:[R],_,t,n,r,o,s,l,u,c),i.base=_.__e,_.__u&=-161,i.__h.length&&s.push(i),y&&(i.__E=i.__=null)}catch(L){_.__v=null,u||o!=null?(_.__e=l,_.__u|=u?160:32,o[o.indexOf(l)]=null):(_.__e=t.__e,_.__k=t.__k),a.__e(L,_,t)}else o==null&&_.__v===t.__v?(_.__k=t.__k,_.__e=t.__e):_.__e=He(t.__e,_,t,n,r,o,s,u,c);(p=a.diffed)&&p(_)}function ge(e,_,t){_.__d=void 0;for(var n=0;n<t.length;n++)J(t[n],t[++n],t[++n]);a.__c&&a.__c(_,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(o){o.call(r)})}catch(o){a.__e(o,r.__v)}})}function He(e,_,t,n,r,o,s,l,u){var c,p,i,d,f,m,x,y=t.props,h=_.props,g=_.type;if(g==="svg"&&(r=!0),o!=null){for(c=0;c<o.length;c++)if((f=o[c])&&"setAttribute"in f==!!g&&(g?f.localName===g:f.nodeType===3)){e=f,o[c]=null;break}}if(e==null){if(g===null)return document.createTextNode(h);e=r?document.createElementNS("http://www.w3.org/2000/svg",g):document.createElement(g,h.is&&h),o=null,l=!1}if(g===null)y===h||l&&e.data===h||(e.data=h);else{if(o=o&&I.call(e.childNodes),y=t.props||P,!l&&o!=null)for(y={},c=0;c<e.attributes.length;c++)y[(f=e.attributes[c]).name]=f.value;for(c in y)f=y[c],c=="children"||(c=="dangerouslySetInnerHTML"?i=f:c==="key"||c in h||U(e,c,null,f,r));for(c in h)f=h[c],c=="children"?d=f:c=="dangerouslySetInnerHTML"?p=f:c=="value"?m=f:c=="checked"?x=f:c==="key"||l&&typeof f!="function"||y[c]===f||U(e,c,f,y[c],r);if(p)l||i&&(p.__html===i.__html||p.__html===e.innerHTML)||(e.innerHTML=p.__html),_.__k=[];else if(i&&(e.innerHTML=""),me(e,G(d)?d:[d],_,t,n,r&&g!=="foreignObject",o,s,o?o[0]:t.__k&&$(t,0),l,u),o!=null)for(c=o.length;c--;)o[c]!=null&&he(o[c]);l||(c="value",m!==void 0&&(m!==e[c]||g==="progress"&&!m||g==="option"&&m!==y[c])&&U(e,c,m,y[c],!1),c="checked",x!==void 0&&x!==e[c]&&U(e,c,x,y[c],!1))}return e}function J(e,_,t){try{typeof e=="function"?e(_):e.current=_}catch(n){a.__e(n,t)}}function j(e,_,t){var n,r;if(a.unmount&&a.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||J(n,null,_)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){a.__e(o,_)}n.base=n.__P=null,e.__c=void 0}if(n=e.__k)for(r=0;r<n.length;r++)n[r]&&j(n[r],_,t||typeof e.type!="function");t||e.__e==null||he(e.__e),e.__=e.__e=e.__d=void 0}function Pe(e,_,t){return this.constructor(e,t)}function Ce(e,_,t){var n,r,o,s;a.__&&a.__(e,_),r=(n=typeof t=="function")?null:t&&t.__k||_.__k,o=[],s=[],K(_,e=(!n&&t||_).__k=Ee(D,null,[e]),r||P,P,_.ownerSVGElement!==void 0,!n&&t?[t]:r?null:_.firstChild?I.call(_.childNodes):null,o,!n&&t?t:r?r.__e:_.firstChild,n,s),ge(o,e,s)}I=de.slice,a={__e:function(e,_,t,n){for(var r,o,s;_=_.__;)if((r=_.__c)&&!r.__)try{if((o=r.constructor)&&o.getDerivedStateFromError!=null&&(r.setState(o.getDerivedStateFromError(e)),s=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e,n||{}),s=r.__d),s)return r.__E=r}catch(l){e=l}throw e}},ae=0,F.prototype.setState=function(e,_){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=E({},this.state),typeof e=="function"&&(e=e(E({},t),this.props)),e&&E(t,e),e!=null&&this.__v&&(_&&this._sb.push(_),Z(this))},F.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Z(this))},F.prototype.render=D,S=[],pe=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,B=function(e,_){return e.__v.__b-_.__v.__b},W.__r=0;var C,v,q,ne,O=0,be=[],M=[],re=a.__b,oe=a.__r,ie=a.diffed,le=a.__c,ce=a.unmount;function Q(e,_){a.__h&&a.__h(v,e,O||_),O=0;var t=v.__H||(v.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({__V:M}),t.__[e]}function se(e){return O=1,De(xe,e)}function De(e,_,t){var n=Q(C++,2);if(n.t=e,!n.__c&&(n.__=[t?t(_):xe(void 0,_),function(l){var u=n.__N?n.__N[0]:n.__[0],c=n.t(u,l);u!==c&&(n.__N=[c,n.__[1]],n.__c.setState({}))}],n.__c=v,!v.u)){var r=function(l,u,c){if(!n.__c.__H)return!0;var p=n.__c.__H.__.filter(function(d){return d.__c});if(p.every(function(d){return!d.__N}))return!o||o.call(this,l,u,c);var i=!1;return p.forEach(function(d){if(d.__N){var f=d.__[0];d.__=d.__N,d.__N=void 0,f!==d.__[0]&&(i=!0)}}),!(!i&&n.__c.props===l)&&(!o||o.call(this,l,u,c))};v.u=!0;var o=v.shouldComponentUpdate,s=v.componentWillUpdate;v.componentWillUpdate=function(l,u,c){if(this.__e){var p=o;o=void 0,r(l,u,c),o=p}s&&s.call(this,l,u,c)},v.shouldComponentUpdate=r}return n.__N||n.__}function Ne(e,_){var t=Q(C++,3);!a.__s&&ke(t.__H,_)&&(t.__=e,t.i=_,v.__H.__h.push(t))}function Te(e,_){var t=Q(C++,7);return ke(t.__H,_)?(t.__V=e(),t.i=_,t.__h=e,t.__V):t.__}function Le(e,_){return O=8,Te(function(){return e},_)}function Ue(){for(var e;e=be.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(V),e.__H.__h.forEach(z),e.__H.__h=[]}catch(_){e.__H.__h=[],a.__e(_,e.__v)}}a.__b=function(e){v=null,re&&re(e)},a.__r=function(e){oe&&oe(e),C=0;var _=(v=e.__c).__H;_&&(q===v?(_.__h=[],v.__h=[],_.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=M,t.__N=t.i=void 0})):(_.__h.forEach(V),_.__h.forEach(z),_.__h=[],C=0)),q=v},a.diffed=function(e){ie&&ie(e);var _=e.__c;_&&_.__H&&(_.__H.__h.length&&(be.push(_)!==1&&ne===a.requestAnimationFrame||((ne=a.requestAnimationFrame)||Ae)(Ue)),_.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==M&&(t.__=t.__V),t.i=void 0,t.__V=M})),q=v=null},a.__c=function(e,_){_.some(function(t){try{t.__h.forEach(V),t.__h=t.__h.filter(function(n){return!n.__||z(n)})}catch(n){_.some(function(r){r.__h&&(r.__h=[])}),_=[],a.__e(n,t.__v)}}),le&&le(e,_)},a.unmount=function(e){ce&&ce(e);var _,t=e.__c;t&&t.__H&&(t.__H.__.forEach(function(n){try{V(n)}catch(r){_=r}}),t.__H=void 0,_&&a.__e(_,t.__v))};var ue=typeof requestAnimationFrame=="function";function Ae(e){var _,t=function(){clearTimeout(n),ue&&cancelAnimationFrame(_),setTimeout(e)},n=setTimeout(t,100);ue&&(_=requestAnimationFrame(t))}function V(e){var _=v,t=e.__c;typeof t=="function"&&(e.__c=void 0,t()),v=_}function z(e){var _=v;e.__c=e.__(),v=_}function ke(e,_){return!e||e.length!==_.length||_.some(function(t,n){return t!==e[n]})}function xe(e,_){return typeof _=="function"?_(e):_}var Fe=0;function b(e,_,t,n,r,o){var s,l,u={};for(l in _)l=="ref"?s=_[l]:u[l]=_[l];var c={type:e,props:u,key:t,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--Fe,__i:-1,__u:0,__source:r,__self:o};if(typeof e=="function"&&(s=e.defaultProps))for(l in s)u[l]===void 0&&(u[l]=s[l]);return a.vnode&&a.vnode(c),c}const Me=({originalText:e,spellcheckErrors:_})=>{const t=[];let n=0;for(const r of _)t.push({text:e.slice(n,r.start),index:n,isCorrect:!0}),t.push({text:e.slice(r.start,r.end),index:r.start,isCorrect:!1}),n=r.end;return t.push({text:e.slice(n,e.length),index:n,isCorrect:!0}),t.filter(({text:r})=>!!r.length)},Ve=({originalText:e,spellcheckErrors:_})=>{if(!_.length)return b("p",{children:"No errors!"});const t=Me({originalText:e,spellcheckErrors:_});return b("p",{class:"validated-text",children:t.map(n=>b("span",{class:n.isCorrect?"fragment-correct":"fragment-incorrect",children:n.text},n.index))})},We=()=>{const[e,_]=se(),[t,n]=se({originalText:"",spellcheckErrors:[]});Ne(()=>{e||window.fetch(new URL("./assets/th-en-x-basic.ooo-thesaurus",self.location).href).then(o=>o.text()).then(o=>{console.time("regex-parse"),_(new RegExp(o,"gi")),console.timeEnd("regex-parse")}).catch(o=>console.error(o))},[e]);const r=Le(o=>{var p;if(o.preventDefault(),!e)return;const l=((p=new FormData(o.currentTarget).get("text"))==null?void 0:p.toString())??"";console.time("regex-execute");const u=[...l.matchAll(e)];console.timeEnd("regex-execute");const c=u.map(i=>{const d=i.index;if(d===void 0)throw new Error("Should not happen for non-empty results");return{start:d,end:d+i[0].length}});n({originalText:l,spellcheckErrors:c})},[e]);return b("section",{children:[b("form",{onSubmit:r,children:[b("textarea",{rows:10,cols:100,name:"text"}),b("br",{}),b("button",{type:"submit",disabled:!e,children:"Validate"})]}),b(Ve,{...t})]})};function Oe(){return b(D,{children:[b("h1",{children:"Spell checker"}),b(We,{})]})}const fe=document.getElementById("app");fe?Ce(b(Oe,{}),fe):console.error("Cannot find app container");
